<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Atec Courses</title>
</head>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>
  var classes = [
    {
      "name" : "Captsone",
      "prefix" : "ATEC",
      "number" : 4500,
      "prereq" : null,
      "instructor" : "Varies",
    },
    {
      "name" : "Writing in Digital Text",
      "prefix" : "ATEC",
      "number" : 3500,
      "prereq" : "ATEC 3300",
      "instructor" : "Kim Knight",
    },
    {
      "name" : "Your Momma",
      "prefix" : "ATEC",
      "number" : 3300,
      "prereq" : null,
      "instructor" : "Lisa Bell",
    }
  ]

  var w = 1000,
      h = 1000,
      r = 30;
  function x(d, i) { 
        if(d.number.toString().substring(0,1) == 2) { return 100; } 
        else if(d.number.toString().substring(0,1) == 3) { return 200; } 
        else if(d.number.toString().substring(0,1) == 4) { return 300; } 
      };
  function y(d, i) { return i * 70 + 50 };

  var svg = d3.select("body").append("svg")
    .attr("width", w)
    .attr("height", h);
  var line = d3.svg.line()
    .x(x)
    .y(y);

  var cirlces = svg.selectAll("circle")
    .data(classes)
    .enter()
    .append("circle")
    .attr({
      "cx": x,
      "cy": y,
      "r": r,
      "fill": "steelblue",
      "stroke": "none",
      "id": function(d){return d.number;}
    })

  var prereqs = classes.filter(function(d){return d.prereq});
  console.log(prereqs);
  
  var lines = svg.selectAll("path")
    .data(prereqs)
    .enter()
    .append("path")
    .attr({
      fill: "none",
      stroke: "lightblue",
      d: line
    })    

  
</script>
</body>
</html>    